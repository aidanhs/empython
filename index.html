<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on http://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <!--<script type="text/javascript" src="javascripts/script.js"></script>-->
  <script type="text/javascript" src="lib/empython.js"></script>

  <title>EmPython</title>
  <meta name="description" content="Python compiled with emscripten">

  <meta name="viewport" content="width=device-width,initial-scale=1">

</head>

<body>

  <div class="wrapper">
    <header>
      <h1 class="title">EmPython</h1>
    </header>
    <div id="container">
      <p class="tagline">Python compiled with emscripten</p>
      <div id="main" role="main">
        <div class="download-bar">
        <div class="inner">
          <a href="https://github.com/aidanhs/empython/tarball/master" class="download-button tar"><span>Download</span></a>
          <a href="https://github.com/aidanhs/empython/zipball/master" class="download-button zip"><span>Download</span></a>
          <a href="https://github.com/aidanhs/empython" class="code">View EmPython on GitHub</a>
        </div>
        <span class="blc"></span><span class="trc"></span>
        </div>
        <article class="_commented_markdown-body">
          <h3>EmPython Test Page</h3>
          <p>This is a simple test page for running Python in the browser on the client side, courtesy of emscripten.</p>
          <p>The box on the left holds input, the right holds output. You can
            <ul>
              <li>Hit 'Run!' to evaluate, inspect output, tweak input and re-run.</li>
              <li>Hit Ctrl+Enter to use it in a more repl-like manner (which will clear the input box and generally make a vague effort to be a bit like the Python shell).</li>
            </ul>
            Unfortunately evaluation results are currently <b>not</b> displayed, only values explicitly
            printed to stdout or stderr.
          </p>

          <button id="python_run">Run!</button>
          <div class="demoarea">
            <div id="python_in"><textarea>import zlib, re

print '\nDemo zlib'
print repr(zlib.compress('abc'))

print '\nDemo re'
text = 'Does this text match the pattern?'
print 'Checking "%s"' % (text,)
for pat in ['this', 'that']:
    print 'Looking for "%s"' % (pat,),
    if re.search(pat,  text):
        print 'found a match!'
    else:
        print 'no match'

print '\nDemo yield'
def firstn(n):
    num = 0
    while num &lt; n:
        yield num
        num += 1
print sum(firstn(100))</textarea></div>
            <div id="python_out"><div><pre></pre></div></div>
          </div>

          <script>
            function setupRepl(prefix, module) {
              'use strict';
              var $inbox = $('#' + prefix + '_in > textarea');
              var $outbox = $('#' + prefix + '_out > div > pre');
              var outln = function (val) {
                $outbox.text($outbox.text() + val + '\n');
                $outbox[0].scrollTop = $outbox[0].scrollHeight;
              }

              var eval_python = (function () {
                module.Initialize();
                // Override default printing
                module.Module.print = module.Module.printErr = outln;

                return function (evalstr) {
                  // TODO: steal https://github.com/replit/empythoned/blob/master/entry_point.js
                  // Unfortunately we don't get result object from PyRun_SimpleString
                  module.Run(evalstr);
                };
              })();
              $('#' + prefix + '_run').on('click', function () {
                  eval_python($('#' + prefix + '_in > textarea').val());
              });
              $inbox.keydown(function (e) {
                // Ctrl-Enter pressed
                if ((e.keyCode == 10 || e.keyCode == 13) && e.ctrlKey) {
                  outln('>>> ' + $inbox.val());
                  eval_python($inbox.val());
                  $inbox.val('');
                }
              });
              eval_python('import sys; print "' + prefix + ' " + sys.version');
            }
            setupRepl('python', empython);
          </script>
        </article>
      </div>
    </div>
    <footer>
      <div class="owner">
      <p><a href="https://github.com/aidanhs" class="avatar"><img src="https://avatars3.githubusercontent.com/u/1050652?v=2&amp;s=60" width="48" height="48"></a> <a href="https://github.com/aidanhs">aidanhs</a> maintains <a href="https://github.com/aidanhs/emtcl">EmPython</a></p>


      </div>
      <div class="creds">
        <small>This page generated using <a href="http://pages.github.com/">GitHub Pages</a><br>theme by <a href="https://twitter.com/jonrohan/">Jon Rohan</a></small>
      </div>
    </footer>
  </div>
  <div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/aidanhs/emtcl/tarball/master" class="tar">tar</a><a href="https://github.com/aidanhs/emtcl/zipball/master" class="zip">zip</a><a href="" class="code">source code</a>
    <p class="name"></p>
  </div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-37081910-4', 'auto');
  ga('send', 'pageview');

</script>


</body>
</html>
